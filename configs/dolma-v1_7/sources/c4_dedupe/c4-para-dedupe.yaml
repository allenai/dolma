documents:
  - s3://ai2-llm/pretraining-data/sources/c4/v0/documents/train/*.gz

dedupe:
  name: dedupe_paragraph
  paragraphs:
    attribute_name: dedupe_paragraph
  skip_empty: true

bloom_filter:
  file: ${oc.env:HOME}/c4_bloom_filter.bin
  read_only: false
  # estimating roughly 4 billion paragraphs
  estimated_doc_count: 4_000_000_000
  desired_false_positive_rate: 1e-06

processes: 188
work_dir:
  input: /tmp/c4-para-dedupe/input
  output: /tmp/c4-para-dedupe/output
